# 插件名称：GS.Sub.DataNotifyManager #
## 插件名称:数据变更通知事件管理 ##
## 版本历史: ##
	1.0.0.5		王涛
				增加删除数据变更通知功能,配置 出入校打卡短信 ， 出入校考勤状态变更，学生班牌请假手机端消息推送 的 SQL
	1.0.0.4		王涛
				解决AddonActivator执行SQL有可能报空指针的问题
	1.0.0.3		王涛
				解决添加按钮没有图标的问题
	1.0.0.2		王涛
				添加编辑、新增数据变更通知事件
	1.0.0.1		王涛
				重新梳理AddonActivator类；梳理DataManager页面
	1.0.0.0		王涛
				数据变更通知事件管理
## 依赖插件: ##
	GS.DataAlterationLogger
## Model : ##
	GS.DataAlterationLogger.db
## 设计目的：##
	由于一些插件需要根据监听表中的字段进行执行相应的SQL。
	但是插件里面分别会存有SQL文本，并且有的插件会存有别的插件SQL文本。
	造成管理SQL文本困难。因此，为了更好的管理这些SQL文本，避免造成以后的管理困难，所以单独做出一个管理SQL文本的插件。
	同时废弃短信插件和门禁插件中类似功能
## 插件原理： ##
	1.依据GS.DataAlterationLogger数据修改记录插件，数据监听功能，实现监听表执行相关的sql。
	2.插件在启动时，会读取 “GS.Sub.DataNotifyManager\SQL\”的SQL文本，并且保存在数据库里。
	3.SQL文本是JSON格式存储。这样是为了读取SQL文本方便。
## 插件功能： ##
	监听表新增、修改、删除的情况下，会执行相应的SQL。

**暂时只实现了可以执行SQL**
## SQL保存规则 ##
1.SQL文本中的“唯一名称”：————命名规则是 “监听表名” + _ + “用途/功能”

	如： 假条_班牌请假 ； 假条就是监听表名，班牌请假就是功能SQL的功能；

**注意：** 这样的命名规则，是为了能够区分这个SQL文本所要的功能，因为唯一名称必须与文件名统一。这样也是为了更容易识别和管理。

2.SQL文本的“文件名称”：————命名规则是SQL文本中的唯一名称；

	如：唯一名称为：“假条_班牌请假”;文件名称就是“假条_班牌请假”

**注意：** 如果唯一名称和文件名称不匹配的情况下，假如修改这个SQL文本。系统会创建新的与之匹配的SQL文本。下次启动的这个插件，又会重新插入到数据库中。所以为了不必要的麻烦，必须遵守此规则。
